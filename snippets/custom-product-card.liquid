{%- comment -%}
  Custom Product Card matching React ProductCard component EXACTLY
  Uses exact Tailwind classes from React code
{%- endcomment -%}

<div class="bg-white rounded-lg overflow-hidden hover:shadow-lg transition">
  <a href="{{ product.url }}" class="block">
    <div class="aspect-square bg-gray-100 overflow-hidden">
      <img 
        src="{{ product.featured_image | image_url: width: 600 }}" 
        alt="{{ product.title | escape }}"
        class="w-full h-full object-cover"
        loading="lazy"
        width="600"
        height="600"
      />
    </div>
  </a>
  
  <div class="p-4">
    {%- comment -%} Star Rating {%- endcomment -%}
    <div class="flex gap-1 mb-2">
      {%- liquid
        assign rating = product.metafields.reviews.rating.value | default: 5
        assign full_stars = rating | floor
        assign empty_stars = 5 | minus: full_stars
      -%}
      {% for i in (1..full_stars) %}
        <span class="text-amber-300">★</span>
      {% endfor %}
      {% for i in (1..empty_stars) %}
        <span class="text-gray-300">★</span>
      {% endfor %}
    </div>
    
    <h3 class="font-bebas tracking-wider text-xl mb-2">
      <a href="{{ product.url }}" class="text-gray-800 hover:text-black">{{ product.title }}</a>
    </h3>
    
    {%- if product.metafields.custom.subtitle != blank -%}
      <p class="text-gray-600 text-sm mb-2 line-clamp-2">{{ product.metafields.custom.subtitle }}</p>
    {%- else -%}
      <p class="text-gray-600 text-sm mb-2 line-clamp-2">{{ product.description | strip_html | truncate: 60 }}</p>
    {%- endif -%}
    
    <p class="text-lg font-bold mb-3">
      {{ product.price | money }}
    </p>
    
    <a href="{{ product.url }}" class="block w-full bg-gray-800 text-white text-center py-2 rounded-md hover:bg-gray-700 transition font-bebas tracking-wider">
      ADD TO CART
    </a>
  </div>
</div>
