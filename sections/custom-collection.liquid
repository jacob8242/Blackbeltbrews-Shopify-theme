{{ 'custom-collection.css' | asset_url | stylesheet_tag }}

<div class="custom-collection-page">
  <div class="container">
    {%- if section.settings.show_collection_image and collection.image -%}
      <div class="collection-header">
        <img src="{{ collection.image | image_url: width: 1600 }}" alt="{{ collection.title | escape }}" class="collection-image">
        <div class="collection-header-overlay">
          <h1 class="collection-title">{{ collection.title }}</h1>
          {%- if collection.description != blank -%}
            <p class="collection-description">{{ collection.description }}</p>
          {%- endif -%}
        </div>
      </div>
    {%- else -%}
      <div class="collection-header-simple">
        <h1 class="collection-title">{{ collection.title }}</h1>
        {%- if collection.description != blank -%}
          <p class="collection-description">{{ collection.description }}</p>
        {%- endif -%}
      </div>
    {%- endif -%}

    {%- if collection.products.size > 0 -%}
      <div class="collection-products">
        {%- for product in collection.products -%}
          {% render 'custom-product-card', product: product %}
        {%- endfor -%}
      </div>

      {%- if paginate.pages > 1 -%}
        <div class="pagination-wrapper">
          {% render 'pagination', paginate: paginate %}
        </div>
      {%- endif -%}
    {%- else -%}
      <div class="collection-empty">
        <p>No products found in this collection.</p>
        <a href="{{ routes.all_products_collection_url }}" class="btn">Browse All Products</a>
      </div>
    {%- endif -%}
  </div>
</div>

{% schema %}
{
  "name": "Custom Collection",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_collection_image",
      "label": "Show collection image",
      "default": true
    }
  ]
}
{% endschema %}
